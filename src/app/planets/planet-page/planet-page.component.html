<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>
      Star Wars Planet
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <h1>{{ data?.name }}</h1>
  <ion-list lines="full">
    <ion-item-group>
      <ion-item-divider mode="ios">
        <ion-label>Planet Information</ion-label>
      </ion-item-divider>
      <ion-item>
        <ion-grid>
          <ion-row>
            <ion-col size="5">
              <ion-label>Population:</ion-label>
            </ion-col>
            <ion-col *ngIf="isNumber(data?.population)">
              <ion-label color="primary" text-wrap><strong>{{ data?.population | number }}</strong></ion-label>
            </ion-col>
            <ion-col *ngIf="!isNumber(data?.population)">
              <ion-label color="primary" text-wrap><strong>{{ data?.population }}</strong></ion-label>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
      <ion-item>
        <ion-grid>
          <ion-row>
            <ion-col size="5">
              <ion-label>Climate:</ion-label>
            </ion-col>
            <ion-col>
              <ion-label color="primary"><strong>{{ data?.climate }}</strong></ion-label>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
      <ion-item>
        <ion-grid>
          <ion-row>
            <ion-col size="5">
              <ion-label>Diameter:</ion-label>
            </ion-col>
            <ion-col *ngIf="isNumber(data?.diameter)">
              <ion-label color="primary" text-wrap><strong>{{ data?.diameter | number }}KM</strong></ion-label>
            </ion-col>
            <ion-col *ngIf="!isNumber(data?.diameter)">
              <ion-label color="primary" text-wrap><strong>{{ data?.diameter }}</strong></ion-label>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
      <ion-item>
        <ion-grid>
          <ion-row>
            <ion-col size="5">
              <ion-label>Gravity:</ion-label>
            </ion-col>
            <ion-col>
              <ion-label color="primary" text-wrap><strong>{{ data?.gravity }}</strong></ion-label>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
      <ion-item>
        <ion-grid>
          <ion-row>
            <ion-col size="5">
              <ion-label>Orbital Period:</ion-label>
            </ion-col>
            <ion-col *ngIf="isNumber(data?.orbital_period)">
              <ion-label color="primary" text-wrap><strong>{{ data?.orbital_period | number }} Days</strong></ion-label>
            </ion-col>
            <ion-col *ngIf="!isNumber(data?.orbital_period)">
              <ion-label color="primary" text-wrap><strong>{{ data?.orbital_period }}</strong></ion-label>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
      <ion-item>
        <ion-grid>
          <ion-row>
            <ion-col size="5">
              <ion-label>Rotation Period:</ion-label>
            </ion-col>
            <ion-col *ngIf="isNumber(data?.rotation_period)">
              <ion-label color="primary" text-wrap><strong>{{ data?.rotation_period | number }} Hrs</strong></ion-label>
            </ion-col>
            <ion-col *ngIf="!isNumber(data?.rotation_period)">
              <ion-label color="primary" text-wrap><strong>{{ data?.rotation_period }}</strong></ion-label>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
      <ion-item>
        <ion-grid>
          <ion-row>
            <ion-col size="5">
              <ion-label>Surface Water:</ion-label>
            </ion-col>
            <ion-col *ngIf="isNumber(data?.surface_water)">
              <ion-label color="primary" text-wrap><strong>{{ data?.surface_water | number }}%</strong></ion-label>
            </ion-col>
            <ion-col *ngIf="!isNumber(data?.surface_water)">
              <ion-label color="primary" text-wrap><strong>{{ data?.surface_water }}</strong></ion-label>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
      <ion-item>
        <ion-grid>
          <ion-row>
            <ion-col size="5">
              <ion-label>Terrain:</ion-label>
            </ion-col>
            <ion-col>
              <ion-label color="primary" text-wrap><strong>{{ data?.terrain }}</strong></ion-label>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
    </ion-item-group>
    <ion-item-group *ngIf="residents">
      <ion-item-divider mode="ios">
        <ion-label>Residents</ion-label>
      </ion-item-divider>
      <ion-item *ngFor="let res of residents"
                (click)="navToElementPage(res?.name, '/character')" 
                detail>
        <ion-grid>
          <ion-row>
            <ion-col>
              <ion-label>{{ res?.name }}</ion-label>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
    </ion-item-group>
    <ion-item-group *ngIf="films">
      <ion-item-divider mode="ios">
        <ion-label>Associated Films</ion-label>
      </ion-item-divider>
      <ion-item *ngFor="let film of films" 
                (click)="navToElementPage(film?.episode_id, '/movie')"
                detail>
        <ion-grid>
          <ion-row>
            <ion-col>
              <ion-label>{{ film?.title }}</ion-label>
              <ion-note>Episode {{ film?.episode_id }}</ion-note>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
    </ion-item-group>
  </ion-list>
</ion-content>